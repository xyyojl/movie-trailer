(function(t){function e(e){for(var r,a,s=e[0],o=e[1],u=e[2],l=0,f=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i={app:0},c=[];function s(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-305e4586":"c000b85f","chunk-70e285ad":"5dda02bb","chunk-9e24105a":"b503eb4c","chunk-b43c5578":"3cb1f155","chunk-daedfcaa":"4695cb50","chunk-ffffe922":"bffba4c0"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-305e4586":1,"chunk-70e285ad":1,"chunk-9e24105a":1,"chunk-daedfcaa":1,"chunk-ffffe922":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-305e4586":"4b5299f9","chunk-70e285ad":"4dde2e3a","chunk-9e24105a":"2ee548cc","chunk-b43c5578":"31d6cfe0","chunk-daedfcaa":"99d98c56","chunk-ffffe922":"cbe137cb"}[t]+".css",i=o.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===r||l===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||i,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[t],d.parentNode.removeChild(d),n(c)},d.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){a[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}i[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/movie-trailer/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0faf":function(t,e,n){},1309:function(t,e,n){"use strict";n("ac31")},1529:function(t,e,n){var r={"./Card.vue":"97ab","./Confirm.vue":"dd94","./Input.vue":"e014","./Loading.vue":"97b0","./NoResult.vue":"810b","./Scroll.vue":"4a77","./Spacing.vue":"335c"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="1529"},"2bce":function(t,e,n){},"335c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spacing",style:t.style})},a=[],i=(n("a9e3"),{name:"Spacing",props:{height:{type:Number,default:10},bgColor:{type:String,default:"#f6f6f6"}},computed:{style:function(){return{height:this.height+"px",backgroundColor:this.bgColor}}}}),c=i,s=n("2877"),o=Object(s["a"])(c,r,a,!1,null,"73630f44",null);e["default"]=o.exports},"373a":function(t,e,n){"use strict";n("9c7f")},"4a77":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"scroll-wrapper"},[n("div",[t._t("default")],2)])},a=[],i=n("1fba"),c={name:"ScrollView",props:{data:{type:Array,default:function(){return[]}},pullUpLoad:{type:[Boolean,Object],default:!1}},watch:{data:function(){var t=this;setTimeout((function(){t.forceUpdate()}))}},mounted:function(){var t=this;setTimeout((function(){t.initScroll()}),20)},activated:function(){this.data.length&&this.refresh()},methods:{initScroll:function(){this.$refs.wrapper&&(this.scroll=new i["a"](this.$refs.wrapper,{bounce:!1,click:!0,pullUpLoad:this.pullUpLoad}),this.pullUpLoad&&this.initPullUpLoad())},initPullUpLoad:function(){var t=this;this.scroll.on("pullingUp",(function(){t.$emit("pulling-up")}))},refresh:function(){this.scroll&&this.scroll.refresh()},forceUpdate:function(){this.pullUpLoad&&(this.scroll.finishPullUp(),this.refresh())}}},s=c,o=(n("373a"),n("2877")),u=Object(o["a"])(s,r,a,!1,null,"24b5f4e9",null);e["default"]=u.exports},"52fa":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("a3a9");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TheHeader"),n("div",{staticClass:"layout-content"},[n("RouterView")],1)],1)},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[t._m(0),n("div",{staticClass:"tabs"},t._l(t.tabList,(function(e){return n("div",{key:e.name,staticClass:"tab-item"},[n("RouterLink",{attrs:{to:e.link}},[t._v(t._s(e.name))])],1)})),0),n("RouterLink",{staticClass:"user",attrs:{to:"/user"}},[n("i",{staticClass:"iconfont icon-user"})])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo-container"},[n("i",{staticClass:"logo"})])}],o={name:"TheHeader",data:function(){return{tabList:[{name:"首页",link:"/recommend"},{name:"分类",link:"/category"},{name:"榜单",link:"/rank"},{name:"搜索",link:"/search"}]}}},u=o,l=(n("698f"),n("2877")),f=Object(l["a"])(u,c,s,!1,null,"0c5d7589",null),d=f.exports,h={name:"App",components:{TheHeader:d},data:function(){return{}}},p=h,v=(n("1309"),Object(l["a"])(p,a,i,!1,null,"51b295e9",null)),m=v.exports,b=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),g=function(){return n.e("chunk-daedfcaa").then(n.bind(null,"4802"))},y=function(){return n.e("chunk-9e24105a").then(n.bind(null,"1a33"))},_=function(){return n.e("chunk-305e4586").then(n.bind(null,"def6"))},k=function(){return n.e("chunk-b43c5578").then(n.bind(null,"789b"))},C=function(){return n.e("chunk-70e285ad").then(n.bind(null,"4886"))},w=function(){return n.e("chunk-ffffe922").then(n.bind(null,"2d3b"))};r["a"].use(b["a"]);var x=[{path:"/",redirect:"/recommend"},{path:"/recommend",name:"Recommend",component:g},{path:"/list/:type",name:"List",component:y},{path:"/movie/:id",name:"Movie",component:_},{path:"/rank",name:"Rank",component:k},{path:"/category",name:"Category",component:C},{path:"/search",name:"Search",component:w}],O=new b["a"]({mode:"history",base:"/movie-trailer/",routes:x}),L=O,S=n("2f62"),j=n("2909"),E=n("d4ec"),$=n("bee2"),T=(n("c740"),n("a434"),n("4de4"),"__search__"),q=10,N={get:function(t,e){var n=window.localStorage.getItem(t);if(!n)return e;try{var r=JSON.parse(n);return r}catch(a){return e}},set:function(t,e){try{var n=JSON.stringify(e);window.localStorage.setItem(t,n)}catch(r){console.log(r)}}},P=function(){function t(){Object(E["a"])(this,t),this.searchList=N.get(T,[])}return Object($["a"])(t,[{key:"getAll",value:function(){return this.searchList}},{key:"addOne",value:function(t){var e=Object(j["a"])(this.searchList),n=e.findIndex((function(e){return e===t}));return n>-1&&e.splice(n,1),e.unshift(t),e.length>q&&e.pop(),this._resetList(e)}},{key:"removeOne",value:function(t){var e=this.searchList.filter((function(e){return e!==t}));return this._resetList(e)}},{key:"clearAll",value:function(){return this._resetList([])}},{key:"_resetList",value:function(t){return this.searchList=t,N.set(T,t),this.searchList}}]),t}(),U=new P;r["a"].use(S["a"]);var A=new S["a"].Store({state:{searchHistory:U.getAll()},mutations:{saveSearchHistory:function(t,e){t.searchHistory=U.addOne(e)},deleteSearchHistory:function(t,e){t.searchHistory=U.removeOne(e)},clearSearchHistory:function(t){t.searchHistory=U.clearAll()}},actions:{},modules:{}}),H=(n("159b"),n("5319"),n("ac1f"),n("1529")),R={install:function(t,e){H.keys().forEach((function(e){var n=H(e),r=e.replace(/^\.\/(.*)\.\w+$/,"$1");t.component(r,n.default||n)}))}},B=n("caf9"),F=(n("5530"),n("bc3a")),I=n.n(F);function M(t){return console.info(">>>>>",t),Promise.reject(t)}var D="http://47.106.196.184:3000",J=I.a.create({baseURL:D,timeout:6e5,withCredentials:!1});J.interceptors.request.use((function(t){return console.log("请求的 config",t),t}),(function(t){return M(t)})),J.interceptors.response.use((function(t){var e=t.data.code;if(200===e)return console.log("",t.data.data),t.data.data}),(function(t){return M(t)}));var z=J;r["a"].prototype.$request=z,r["a"].use(R),r["a"].use(B["a"],{loading:n("cfcf")}),r["a"].config.productionTip=!1,new r["a"]({router:L,store:A,render:function(t){return t(m)}}).$mount("#app")},"698f":function(t,e,n){"use strict";n("abde")},"810b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"no-result-page"},[r("img",{staticClass:"img",attrs:{src:n("8738"),alt:""}}),r("p",{staticClass:"text"},[t._v(t._s(t.text))])])},a=[],i={props:{text:{type:String,default:"没有找到相关内容"}}},c=i,s=(n("cf31"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"3b165fae",null);e["default"]=o.exports},8639:function(t,e,n){"use strict";n("52fa")},8738:function(t,e,n){t.exports=n.p+"img/noresult.a58656f3.png"},9662:function(t,e,n){"use strict";n("0faf")},"97ab":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:{"rank-card":t.isRank},on:{click:function(e){return t.$emit("select",t.movie.id)}}},[t.isRank?n("p",{staticClass:"rank-text",class:"rank-"+t.sort},[t._v(t._s(t.sort))]):t._e(),n("div",{staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.movie.poster,expression:"movie.poster"}],attrs:{width:"100%",height:"100%",alt:""}})]),n("div",{staticClass:"descript"},[n("h1",{staticClass:"title"},[t._v(t._s(t.movie.title))]),"1"==t.movie.isPlay?n("p",{staticClass:"rate"},[t._v(" 观众评: "),n("span",{class:{text:t.movie.rate>0}},[t._v(t._s(t.movie.rate||"暂无"))])]):n("p",{staticClass:"pubdate"},[t._v("上映时间："+t._s(t.removeZh(t.movie.pubdate)))]),n("p",{staticClass:"cast"},[t._v("主演："+t._s(t.casts))]),n("p",{staticClass:"duration"},[t._v("时长："+t._s(t.movie.duration||"未知"))])])])},a=[],i=(n("a9e3"),n("a15b"),n("d81d"),n("b0c0"),n("5319"),n("ac1f"),{props:{movie:{type:Object,required:!0},sort:{type:Number,default:-1}},computed:{isRank:function(){return-1!==this.sort},casts:function(){return this.movie.casts.map((function(t){return t.name})).join(",")}},methods:{removeZh:function(t){return t.replace("(中国大陆)","")}}}),c=i,s=(n("8639"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"a9fab61c",null);e["default"]=o.exports},"97b0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading-wrap",style:{height:t.height}},[t._m(0)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"rect rect1"}),n("div",{staticClass:"rect rect2"}),n("div",{staticClass:"rect rect3"}),n("div",{staticClass:"rect rect4"}),n("div",{staticClass:"rect rect5"})])}],i={name:"Loading",props:{height:{type:String,default:"100%"}}},c=i,s=(n("c719"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"4fdfbad9",null);e["default"]=o.exports},"9c7f":function(t,e,n){},"9fcf":function(t,e,n){},a3a9:function(t,e,n){},abde:function(t,e,n){},ac31:function(t,e,n){},c4d2:function(t,e,n){"use strict";n("2bce")},c719:function(t,e,n){"use strict";n("9fcf")},cf31:function(t,e,n){"use strict";n("ed3e")},cfcf:function(t,e,n){t.exports=n.p+"img/loading.300c64a8.png"},dd94:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Transition",{attrs:{name:"confirm"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm"},[n("div",{staticClass:"confirm-wrapper"},[n("div",{staticClass:"confirm-content"},[n("p",{staticClass:"text"},[t._v(t._s(t.content))]),n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-btn left",on:{click:t.cancel}},[t._v(t._s(t.cancelBtnText))]),n("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmBtnText))])])])])])])},a=[],i={props:{content:{type:String,required:!0},cancelBtnText:{type:String,default:"取消"},confirmBtnText:{type:String,default:"确认"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.hide(),this.$emit("cancel")},confirm:function(){this.hide(),this.$emit("confirm")}}},c=i,s=(n("9662"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"59ad66d5",null);e["default"]=o.exports},e014:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-box"},[n("i",{staticClass:"iconfont icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search-input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.handleInput]}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"iconfont icon-delete",on:{click:t.handleClear}})])},a=[],i={props:{placeholder:{type:String,default:"搜索电影"}},data:function(){return{query:""}},methods:{handleInput:function(){this.$emit("input",this.query)},handleClear:function(){this.query="",this.$emit("clear")},setQuery:function(t){this.query=t}}},c=i,s=(n("c4d2"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"4630c55d",null);e["default"]=o.exports},ed3e:function(t,e,n){}});
//# sourceMappingURL=app.0c831467.js.map