(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e24105a"],{"1a33":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Transition",{attrs:{name:"fade"}},[i("div",{staticClass:"page-list"},[i("TheBackHeader",{attrs:{back:t.onBack}},[i("div",{staticClass:"tabs"},t._l(t.tabs,(function(e,a){return i("div",{key:e,staticClass:"item",class:{active:t.activeIdx===a},on:{click:function(e){return t.switchTab(a)}}},[i("span",[t._v(t._s(e))])])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.movieList.length,expression:"movieList.length"}],staticClass:"content-wrapper"},[i("Scroll",{attrs:{data:t.movieList,"pull-up-load":!0},on:{"pulling-up":t.loadMore}},[t._l(t.movieList,(function(e){return i("Card",{key:e.id,attrs:{movie:e},on:{select:t.gotoDetail}})})),i("div",{staticClass:"pull-up-wrap"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.pullUpLoading,expression:"pullUpLoading"}]},[t._v("正在加载...")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}]},[t._v("没有更多了~")])])],2)],1),i("Loading",{directives:[{name:"show",rawName:"v-show",value:!t.movieList.length,expression:"!movieList.length"}],attrs:{height:"80%"}})],1)])},n=[],o=(i("99af"),i("5319"),i("ac1f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"back-header"},[i("i",{staticClass:"iconfont icon-left",on:{click:t.onBack}}),t._t("default")],2)}),s=[],c={name:"TheBackHeader",props:{back:{type:Function}},methods:{onBack:function(){"function"!==typeof this.back?this.$router.back():this.back()}}},r=c,u=(i("be73"),i("2877")),l=Object(u["a"])(r,o,s,!1,null,"0d9eef23",null),h=l.exports,p={name:"List",components:{TheBackHeader:h},data:function(){return{movieList:[],count:0,page:0,tabs:["即将上映","正在热映"],activeIdx:+this.$route.params.type,pullUpLoading:!1}},created:function(){this.getMovieList()},computed:{noMore:function(){return this.count===this.movieList.length&&0!==this.count}},beforeRouteUpdate:function(t,e,i){this.page=0,this.movieList=[],this.count=0,this.activeIdx=+t.params.type,i(),this.getMovieList()},methods:{switchTab:function(t){this.activeIdx=t,this.$router.push("/list/".concat(t))},getMovieList:function(){var t=this,e={page:this.page,pageSize:10,status:this.$route.params.type};this.$request.get("/api/movie/status",{params:e}).then((function(e){t.movieList=t.movieList.concat(e.list),t.count=e.total,t.$nextTick((function(){t.pullUpLoading=!1}))}))},gotoDetail:function(t){this.$router.push("/movie/".concat(t))},loadMore:function(){var t=this.movieList,e=this.count;t.length>=e||(this.page+=1,this.pullUpLoading=!0,this.getMovieList())},onBack:function(){this.$router.replace("/recommend")}}},d=p,v=(i("4aa8"),Object(u["a"])(d,a,n,!1,null,"7395d1fe",null));e["default"]=v.exports},"2eec":function(t,e,i){},"4aa8":function(t,e,i){"use strict";i("7679")},7679:function(t,e,i){},"99af":function(t,e,i){"use strict";var a=i("23e7"),n=i("d039"),o=i("e8b5"),s=i("861d"),c=i("7b0b"),r=i("50c4"),u=i("8418"),l=i("65f0"),h=i("1dde"),p=i("b622"),d=i("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",g=d>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),w=h("concat"),b=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},L=!g||!w;a({target:"Array",proto:!0,forced:L},{concat:function(t){var e,i,a,n,o,s=c(this),h=l(s,0),p=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?s:arguments[e],b(o)){if(n=r(o.length),p+n>f)throw TypeError(m);for(i=0;i<n;i++,p++)i in o&&u(h,p,o[i])}else{if(p>=f)throw TypeError(m);u(h,p++,o)}return h.length=p,h}})},be73:function(t,e,i){"use strict";i("2eec")}}]);
//# sourceMappingURL=chunk-9e24105a.b503eb4c.js.map